# v0.2.1 Release Notes

## 发布信息

- 版本：`v0.2.1`
- 日期：`2026-02-22`
- 基线版本：`v0.2.0`

## Added

- 双向同步策略 `bidirectional`，支持根据变化侧自动决策上传/下载/删除。
- 新增双向策略回归测试：`app/tests/test_sync_direction_bidirectional.py`。
- 新增安装部署与开机自启手册：`docs/DEPLOYMENT_GUIDE_ZH.md`。

## Changed

- 同步引擎增强文件级比对：本地 SHA256 + 远端指纹（modified_time:size）。
- Web 控制台强化加载态文案，减少“未开始/失败”误判。
- `config.yaml` 改为本机配置文件（`.gitignore`），仓库保留 `config.yaml.example`。

## Fixed

- 修复“清空最近异常”误清空最近摘要的问题，保留最近同步记录。

## 升级说明

- 数据库迁移：无强制迁移。
- 配置兼容性：若旧环境仍使用仓库版 `config.yaml`，建议迁移为本机文件并对照 `config.yaml.example`。
- 需要人工操作：执行 `make check`，并确认 `sync.default_sync_direction` 配置符合预期。

## 回滚说明

- 目标回滚版本：`v0.2.0`
- 回滚命令：`scripts/rollback_release.sh --target v0.2.0 --restart-service`

## 验证记录

- `make check`：通过
- `curl /api/healthz`：`ok=true`
- `curl /api/readyz`：`ok=true`
